# WeTax-基于 FISCO BCOS 的电商直播税务监管平台
# 一、项目背景
在电商直播带货迅猛发展的背景下，税务监管面临新的挑战。薇娅在 2 年内偷逃税款达 6.43 亿元、雪梨、林珊珊因为偷税漏税事件，被处罚金超出 9000 万元…此类现象层出不穷，一例例活生生的例子摆在眼前。主播收入普遍较高，而收入来源种类多、平台不透明给他们虚假申报纳税提供了空间。在具体调研后，团队总结了当今直播带货领域存在的痛点：

- 数据真实性：直播带货交易数据易于造假，目前依赖自主
申报，难以鉴真。

- 税款计算复杂：涉及跨平台、多角色，人工处理效率低、易出错、难统计。

- 审计难度大：交易数量大、交易金额小、频率高，难以统一监管审计

# 二、项目介绍
## 1、项目简介
在此背景下，我们设计了“基于 FISCO BCOS 的电商带货场景下的税务监管平台”。该平台通过 Truora 可信预言机将来自多平台的数据自动格式化上链，减少人为干预，提升税务合规性，确保数据的真实性和可靠性。同时，平台提供实时监控的可视化平台与隐私保护的备案流程，在帮助税务部门早发现、早监控、早处理异常现象，维护公平的税收环境的同时也保护了主播的合法权益。此举不仅有助于规范电商直播行业的发展，也为税务监管提供了创新的技术范式。

## 2、技术亮点
### Truora可信预言机
- i.	Truora作为链下与链上数据的桥梁，定时确保多源数据高效整合并可信传输，为直播交易数据的真实性奠定基础。
- ii.	部署Truora服务：调用配置好URL的 ``APISampleOracle.sol`` 合约,该合约接口同时支持``String``，``Byte``数组两种类型数据，用``request``触发预言机获取数据，并调用合约的 ``get``查看返回结果 
- iii.	抗篡改设计：数据上传前采用哈希加密算法（如 SHA256）进行校验，保证数据传输过程中不被篡改
- iv.	多路径冗余机制：即使部分节点失效，预言机仍能通过剩余节点验证数据的完整性

### FISCO BCOS 区块链框架
- i.	高性能支持：采用 FISCO BCOS 的高 TPS框架，支持电商直播场景中的海量并发交易，单链性能可达2万+TPS，交易确认时延在秒级内，满足峰值交易需求。
- ii.	共识算法保证透明与不可篡改：通过 Raft 和 PBFT 混合共识机制，确保数据处理的高效性和区块链网络的低延迟，上链数据支持公开查询，增强税务监管的公信力。

### WeBASE中间件集成
- i.	通过WeBASE-Transaction中间件高效管理链上交易事务
- ii.	通过WeBASE-Node-Manager节点管理中间件实现区块链节点的动态扩展与健康监控
- iii.	通过WeBASE-Collect-Bee数据导出中间件实现数据的实时导出，以用于与大数据协同监管

### 多层次安全架构
- i.	链上数据使用 Merkle 树确保交易数据的完整性和验证效率，所有数据均不可篡改，并支持快速校验，确保数据透明安全。
- ii.	链下访问控制的中心化实名数据存储支持基于 OAuth 的认证授权机制，确保访问权限动态管理
- iii.	映射表请求时数据传输采用 TLS1.3 协议，确保网络通信的加密性，此外，在管理员端部署防火墙与入侵检测系统（IDS），防止外部攻击，

## 3、应用场景
### 电商直播税务申报
某大型直播平台的头部主播月收入达 1000 万元，其中包含打赏收入
和商品带货收入。传统税务申报依赖人工计算，容易因复杂税率规
则出错。 我们的税务监管平台实时收集主播的各项收入数据，通过
合约将数据自动化上链存储，税务部门可以直接通过区块链浏览器
核对申报信息，提高税务申报的准确率，减少了合规成本的同时保
证了税收透明。
### 违规交易监控
某主播短时间内收到大量大额打赏，税务部门通过区块链浏览器与
WeBASE-Collect-Bee 监控到快速大额交易，触发异常预警。随即税
务部门介入调查，结合链上公开交易记录研究账户间的关联关系，
对违法犯罪行为及时处理。
### 多平台数据整合
针对电商直播领域， 税务部门希望整合不同直播平台的交易数据，
以获取全面的税务监管视图，直播数据在格式化后统一上链，税务
部门通过浏览器快速切换平台视图，进行横向及纵向对比和分析。
### 筛选优质有效主播
当每笔交易都被记录上链，按交易额缴纳税款，刷单、 刷礼物换流
量的成本会增加，刷量的行为一定程度上得到遏制， 无机交易的减
少净化了电商直播环境。

## 4、项目架构图
![监管流架构图](https://github.com/6oz066/hackathon/blob/master/2024-shenzhen-FinTechathon/WeTax/%E7%9B%91%E7%AE%A1%E6%B5%81%E6%9E%B6%E6%9E%84.png)

![地址簿备案架构图](https://github.com/6oz066/hackathon/blob/master/2024-shenzhen-FinTechathon/WeTax/%E5%9C%B0%E5%9D%80%E7%B0%BF%E5%A4%87%E6%A1%88%E6%B5%81%E7%A8%8B%E5%9B%BE.png)

## 5、产品预览
![产品预览1](https://github.com/6oz066/hackathon/blob/master/2024-shenzhen-FinTechathon/WeTax/%E4%BA%A7%E5%93%81%E9%A2%84%E8%A7%881.png)
![产品预览2](https://github.com/6oz066/hackathon/blob/master/2024-shenzhen-FinTechathon/WeTax/%E4%BA%A7%E5%93%81%E9%A2%84%E8%A7%882.png)

# 三、项目构造
## 数据处理单元
- i.	采集：从各直播电商平台实时采集用户的打赏、购买等行为数据。
- ii.	格式化：将多平台的异构数据统一格式化，标准化字段包括交易ID、来源平台、交易金额、时间戳等。

### a)	交易行为识别：将用户行为区分为以下两类：
- i.	打赏行为：如用户向主播赠送礼物。
- ii.	购买行为：如通过直播间购买商品。

### b)	统一格式化处理：所有数据按照以下结构处理后推送上链：
- i.	类型：打赏收入或带货收入
- ii.	来源平台：标识数据来源。
- iii.	账户类型：区分个人与公司账户，适配不同税款规则。
- iv.	发生金额：记录交易金额，便于查询与核算。

## 预言机及链上存证单元
- i.	数据上链：通过可信预言机桥接链下和链上数据，确保数据上传到区块链前的真实性和完整性。
- ii.	实时性保障：实时处理和广播交易数据，确保链上存证与链下发生时间最小化差异
- iii.	隐私保护：用户的钱包地址与实名信息在链上完全隔离，实名信息仅存储于Admin管理员端的中心化名单中。

## 税务监管浏览器单元
- i.	实时数据展示：通过区块链浏览器实时展示关键指标，例如交易数量、交易金额、税款总额等。
- ii.	异常预警：支持税务部门对大额异常交易进行快速识别和预警。
- iii.	深度分析：提供数据挖掘工具，生成交易趋势、税收分布等分析报告
- iv.	用户友好：友好的操作界面，允许用户选择多维度过滤条件查看数据，结合可视图形化展示，便于直观理解

## 管理员端主播备案单元
- i.	KYC备案：主播通过管理平台提交真实姓名、身份证、平台账号等信息
- ii.	身份验证：管理员验证主播身份，通过后分配唯一的ID Hash，用于链上交易追踪
- iii.	信息存储：实名信息与ID Hash在中心化地址簿中保存，链上仅保存匿名ID Hash
- iv.	备案表单信息仅供管理员访问，通常情况下离网保存，保护用户隐私

## 管理员端地址簿及映射表单元
- i.	地址管理：管理员分配链上ID Hash，并根据需求调整权限（如冻结、恢复）
- ii.	映射查询：预言机通过映射表快速查询ID Hash，确保链上链下关联高效
- iii.	安全备份：中心化地址簿备份所有用户信息，防止数据丢失或篡改
- iv.	历史记录追踪：管理员可通过地址簿追踪用户的变更历史

# 四、未来展望
## 第一阶段
将平台推广到全国范围内，覆盖国内所有电商、直播、短视频平台。
- i. 优化现有系统模块，提升对大规模高并发交易的处理能力（TPS 提升至 5 万级）。

- ii. 建立与国内头部电商平台（如淘宝、抖音、快手）的实时数据对接机制。

- iii. 增加短视频广告收入数据采集功能，覆盖内容创作者生态。

- iv. 举办与税务局联合的税务合规试点活动，并形成标准化流程。

## 第二阶段
扩展至全国创作者经济，涵盖网红经济全收入来源类型
- i. 引入新的收入类型识别功能，包括但不限于内容付费收入、代
运营和佣金收入等

- ii. 针对个人创作者定制税务合规解决方案，如提供分级税率计算
功能。

- iii. 增强平台可视化能力，为创作者提供简单易用的纳税报告生成
工具。

- iv. 与行业协会合作，为中小型创作者提供税务培训和合规指导。

## 第三阶段
建立跨境电商税收监管平台，向后兼容不同国家税收政策
- i. 开展国际试点项目，例如在东南亚市场（Lazada、 Shopee）进行初步实施

- ii. 开发支持多币种、多语言的跨境税务监管模块

- iii. 建立跨境税务合规数据库，与各国税务部门合作对接 API

- iv. 针对大额国际交易引入合规审核机制，防止洗钱或税收套利

## 第四阶段
整合国际主流创作者平台， 构建全球性的创作者经济税务监管网络。
- i. 扩展全球范围的创作者经济覆盖，整合主要创作者平台如YouTube、 Twitch 等

- ii. 开发基于区块链的国际创作者经济税收结算系统，支持国家间税务信息共享

- iii. 支持税收分账功能，确保多国税收协作

- iv. 建立全球创作者合规评估机制，提供跨国税务健康报告v. 与国际机构（如 OECD、 WTO）合作，推动创作者税务全球标准化

## 长期愿景
**建立一统的全球税务监管网络，结合区块链和人工智能技术，实现创作者经济的完全透明化、合规化，助力全球创作者经济在公平的税收环境下高速发展！**
