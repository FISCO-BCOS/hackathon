/*! 
 Build based on gin-vue-admin 
 Time : 1730113336000 */
import{a as e,o as a,c as l,e as t,b as o,w as s,g as i,D as r,aX as p,j as d,T as m,E as u,H as c,k as n}from"./087AC4D233B64EB0index.js";import{E as B}from"./087AC4D233B64EB0dialog.js";import"./087AC4D233B64EB0overlay.js";import{a as f,E as g}from"./087AC4D233B64EB0form-item.js";/* empty css                     */import{E as b,a as v}from"./087AC4D233B64EB0table-column.js";import"./087AC4D233B64EB0checkbox.js";/* empty css                       *//* empty css                      */import"./087AC4D233B64EB0scrollbar.js";import"./087AC4D233B64EB0tag.js";/* empty css                      */import{i as C,d as E,j}from"./087AC4D233B64EB0autoCode.js";import{_ as k}from"./087AC4D233B64EB0warningBar.js";import{t as A}from"./087AC4D233B64EB0doc.js";import"./087AC4D233B64EB0index21.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0index20.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0debounce.js";const D={class:"gva-table-box"},w={class:"gva-btn-list gap-3 flex items-center"},y={class:"dialog-footer"},_=Object.assign({name:"AutoPkg"},{__name:"autoPkg",setup(_){const V=e({packageName:"",label:"",desc:""}),h=e({packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{validator:(e,a,l)=>{/^\d+$/.test(a[0])?l(new Error("不能够以数字开头")):l()},trigger:"blur"}]}),x=e(!1),N=()=>{x.value=!1,V.value={packageName:"",label:"",desc:""}},T=e(null),U=async()=>{T.value.validate((async e=>{if(e){0===(await C(V.value)).code&&d({type:"success",message:"添加成功",showClose:!0}),q(),N()}}))},P=e([]),q=async()=>{const e=await E();0===e.code&&(P.value=e.data.pkgs)};return q(),(e,C)=>{const E=u,_=c,O=b,F=v,H=n,I=f,X=g,$=B;return a(),l("div",null,[t(k,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请看视频https://www.bilibili.com/video/BV1kv4y1g7nT?p=3"}),o("div",D,[o("div",w,[t(E,{type:"primary",icon:"plus",onClick:C[0]||(C[0]=e=>{x.value=!0})},{default:s((()=>C[6]||(C[6]=[i("新增")]))),_:1}),t(_,{class:"cursor-pointer",onClick:C[1]||(C[1]=e=>r(A)("https://www.bilibili.com/video/BV1kv4y1g7nT?p=3&vd_source=f2640257c21e3b547a790461ed94875e"))},{default:s((()=>[t(r(p))])),_:1})]),t(F,{data:P.value},{default:s((()=>[t(O,{align:"left",label:"id",width:"60",prop:"ID"}),t(O,{align:"left",label:"包名",width:"150",prop:"packageName"}),t(O,{align:"left",label:"展示名",width:"150",prop:"label"}),t(O,{align:"left",label:"描述","min-width":"150",prop:"desc"}),t(O,{align:"left",label:"操作",width:"200"},{default:s((e=>[t(E,{icon:"delete",type:"primary",link:"",onClick:a=>(async e=>{m.confirm("此操作仅删除数据库中的pkg存储，后端相应目录结构请自行删除与数据库保持一致！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await j(e)).code&&(d({type:"success",message:"删除成功!"}),q())}))})(e.row)},{default:s((()=>C[7]||(C[7]=[i("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),t($,{modelValue:x.value,"onUpdate:modelValue":C[5]||(C[5]=e=>x.value=e),"before-close":N,title:"创建Package"},{footer:s((()=>[o("div",y,[t(E,{onClick:N},{default:s((()=>C[8]||(C[8]=[i("取 消")]))),_:1}),t(E,{type:"primary",onClick:U},{default:s((()=>C[9]||(C[9]=[i("确 定")]))),_:1})])])),default:s((()=>[t(k,{title:"新增Pkg用于自动化代码使用"}),t(X,{ref_key:"pkgForm",ref:T,model:V.value,rules:h.value,"label-width":"80px"},{default:s((()=>[t(I,{label:"包名",prop:"packageName"},{default:s((()=>[t(H,{modelValue:V.value.packageName,"onUpdate:modelValue":C[2]||(C[2]=e=>V.value.packageName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),t(I,{label:"展示名",prop:"label"},{default:s((()=>[t(H,{modelValue:V.value.label,"onUpdate:modelValue":C[3]||(C[3]=e=>V.value.label=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),t(I,{label:"描述",prop:"desc"},{default:s((()=>[t(H,{modelValue:V.value.desc,"onUpdate:modelValue":C[4]||(C[4]=e=>V.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{_ as default};
