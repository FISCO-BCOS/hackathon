/*! 
 Build based on gin-vue-admin 
 Time : 1730113336000 */
import{A as e,$ as a,a2 as l,a3 as t,a4 as o,a5 as r,a6 as i,a7 as s,a8 as n,a as u,P as d,a9 as m,Q as c,C as p,aa as v,O as g,ab as f,X as h,ac as b,ad as y,ae as V,q as w,v as B,r as x,af as _,o as C,c as k,e as E,w as A,b as S,t as F,D,n as j,F as M,_ as z,ag as L,y as P,ah as T,ai as N,aj as I,x as U,h as q,f as X,K as Y,L as K,ak as W,I as H,l as O,N as R,g as Q,m as $,j as G,M as J,H as Z,k as ee,E as ae}from"./087AC4D233B64EB0index.js";import{E as le}from"./087AC4D233B64EB0dialog.js";import"./087AC4D233B64EB0overlay.js";/* empty css                      */import{E as te}from"./087AC4D233B64EB0empty.js";import"./087AC4D233B64EB0tag.js";import{E as oe,a as re}from"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0scrollbar.js";/* empty css                      *//* empty css                     */import{E as ie}from"./087AC4D233B64EB0input-number.js";/* empty css                       */import{E as se}from"./087AC4D233B64EB0image-viewer.js";import{a as ne,E as ue}from"./087AC4D233B64EB0form-item.js";import{g as de}from"./087AC4D233B64EB0img2img2.js";/* empty css                      *//* empty css                          */import{d as me}from"./087AC4D233B64EB0image.vue_vue_type_style_index_0_scoped_4d6462c8_lang.js";/* empty css                       *//* empty css                        *//* empty css                                                                           */import"./087AC4D233B64EB0date.js";import{E as ce,a as pe}from"./087AC4D233B64EB0index20.js";import{d as ve}from"./087AC4D233B64EB0debounce.js";import"./087AC4D233B64EB0index21.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0token.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_initCloneObject.js";const ge=Symbol("sliderContextKey"),fe=e({modelValue:{type:a([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:l,inputSize:l,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:a(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:a(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:ce,default:"top"},marks:{type:a(Object)},validateEvent:{type:Boolean,default:!0},...t(["ariaLabel"])}),he=e=>s(e)||n(e)&&e.every(s),be={[o]:he,[r]:he,[i]:he},ye=(e,a,l)=>{const{form:t,formItem:s}=v(),n=g(),d=u(),m=u(),f={firstButton:d,secondButton:m},h=p((()=>e.disabled||(null==t?void 0:t.disabled)||!1)),b=p((()=>Math.min(a.firstValue,a.secondValue))),y=p((()=>Math.max(a.firstValue,a.secondValue))),V=p((()=>e.range?"".concat(100*(y.value-b.value)/(e.max-e.min),"%"):"".concat(100*(a.firstValue-e.min)/(e.max-e.min),"%"))),w=p((()=>e.range?"".concat(100*(b.value-e.min)/(e.max-e.min),"%"):"0%")),B=p((()=>e.vertical?{height:e.height}:{})),x=p((()=>e.vertical?{height:V.value,bottom:w.value}:{width:V.value,left:w.value})),_=()=>{n.value&&(a.sliderSize=n.value["client".concat(e.vertical?"Height":"Width")])},C=l=>{const t=(l=>{const t=e.min+l*(e.max-e.min)/100;if(!e.range)return d;let o;return o=Math.abs(b.value-t)<Math.abs(y.value-t)?a.firstValue<a.secondValue?"firstButton":"secondButton":a.firstValue>a.secondValue?"firstButton":"secondButton",f[o]})(l);return t.value.setPosition(l),t},k=e=>{l(o,e),l(r,e)},E=async()=>{await c(),l(i,e.range?[b.value,y.value]:e.modelValue)},A=l=>{var t,o,r,i,s,u;if(h.value||a.dragging)return;_();let d=0;if(e.vertical){const e=null!=(r=null==(o=null==(t=l.touches)?void 0:t.item(0))?void 0:o.clientY)?r:l.clientY;d=(n.value.getBoundingClientRect().bottom-e)/a.sliderSize*100}else{d=((null!=(u=null==(s=null==(i=l.touches)?void 0:i.item(0))?void 0:s.clientX)?u:l.clientX)-n.value.getBoundingClientRect().left)/a.sliderSize*100}return d<0||d>100?void 0:C(d)};return{elFormItem:s,slider:n,firstButton:d,secondButton:m,sliderDisabled:h,minValue:b,maxValue:y,runwayStyle:B,barStyle:x,resetSize:_,setPosition:C,emitChange:E,onSliderWrapperPrevent:e=>{var a,l;((null==(a=f.firstButton.value)?void 0:a.dragging)||(null==(l=f.secondButton.value)?void 0:l.dragging))&&e.preventDefault()},onSliderClick:e=>{A(e)&&E()},onSliderDown:async e=>{const a=A(e);a&&(await c(),a.value.onButtonDown(e))},onSliderMarkerDown:e=>{h.value||a.dragging||C(e)},setFirstValue:l=>{a.firstValue=null!=l?l:e.min,k(e.range?[b.value,y.value]:null!=l?l:e.min)},setSecondValue:l=>{a.secondValue=l,e.range&&k([b.value,y.value])}}},{left:Ve,down:we,right:Be,up:xe,home:_e,end:Ce,pageUp:ke,pageDown:Ee}=b,Ae=(e,a,l)=>{const{disabled:t,min:r,max:i,step:s,showTooltip:n,precision:d,sliderSize:v,formatTooltip:g,emitChange:b,resetSize:y,updateDragging:V}=f(ge),{tooltip:w,tooltipVisible:B,formatValue:x,displayTooltip:_,hideTooltip:C}=((e,a,l)=>{const t=u(),o=u(!1),r=p((()=>a.value instanceof Function)),i=p((()=>r.value&&a.value(e.modelValue)||e.modelValue)),s=ve((()=>{l.value&&(o.value=!0)}),50),n=ve((()=>{l.value&&(o.value=!1)}),50);return{tooltip:t,tooltipVisible:o,formatValue:i,displayTooltip:s,hideTooltip:n}})(e,g,n),k=u(),E=p((()=>"".concat((e.modelValue-r.value)/(i.value-r.value)*100,"%"))),A=p((()=>e.vertical?{bottom:E.value}:{left:E.value})),S=e=>{t.value||(e.preventDefault(),j(e),window.addEventListener("mousemove",M),window.addEventListener("touchmove",M),window.addEventListener("mouseup",z),window.addEventListener("touchend",z),window.addEventListener("contextmenu",z),k.value.focus())},F=e=>{t.value||(a.newPosition=Number.parseFloat(E.value)+e/(i.value-r.value)*100,L(a.newPosition),b())},D=e=>{let a,l;return e.type.startsWith("touch")?(l=e.touches[0].clientY,a=e.touches[0].clientX):(l=e.clientY,a=e.clientX),{clientX:a,clientY:l}},j=l=>{a.dragging=!0,a.isClick=!0;const{clientX:t,clientY:o}=D(l);e.vertical?a.startY=o:a.startX=t,a.startPosition=Number.parseFloat(E.value),a.newPosition=a.startPosition},M=l=>{if(a.dragging){let t;a.isClick=!1,_(),y();const{clientX:o,clientY:r}=D(l);e.vertical?(a.currentY=r,t=(a.startY-a.currentY)/v.value*100):(a.currentX=o,t=(a.currentX-a.startX)/v.value*100),a.newPosition=a.startPosition+t,L(a.newPosition)}},z=()=>{a.dragging&&(setTimeout((()=>{a.dragging=!1,a.hovering||C(),a.isClick||L(a.newPosition),b()}),0),window.removeEventListener("mousemove",M),window.removeEventListener("touchmove",M),window.removeEventListener("mouseup",z),window.removeEventListener("touchend",z),window.removeEventListener("contextmenu",z))},L=async t=>{if(null===t||Number.isNaN(+t))return;t<0?t=0:t>100&&(t=100);const n=100/((i.value-r.value)/s.value);let u=Math.round(t/n)*n*(i.value-r.value)*.01+r.value;u=Number.parseFloat(u.toFixed(d.value)),u!==e.modelValue&&l(o,u),a.dragging||e.modelValue===a.oldValue||(a.oldValue=e.modelValue),await c(),a.dragging&&_(),w.value.updatePopper()};return h((()=>a.dragging),(e=>{V(e)})),m(k,"touchstart",S,{passive:!1}),{disabled:t,button:k,tooltip:w,tooltipVisible:B,showTooltip:n,wrapperStyle:A,formatValue:x,handleMouseEnter:()=>{a.hovering=!0,_()},handleMouseLeave:()=>{a.hovering=!1,a.dragging||C()},onButtonDown:S,onKeyDown:e=>{let a=!0;[Ve,we].includes(e.key)?F(-s.value):[Be,xe].includes(e.key)?F(s.value):e.key===_e?t.value||(L(0),b()):e.key===Ce?t.value||(L(100),b()):e.key===Ee?F(4*-s.value):e.key===ke?F(4*s.value):a=!1,a&&e.preventDefault()},setPosition:L}},Se=e({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:ce,default:"top"}}),Fe={[o]:e=>s(e)},De=w({name:"ElSliderButton"});var je=z(w({...De,props:Se,emits:Fe,setup(e,{expose:a,emit:l}){const t=e,o=B("slider"),r=x({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:t.modelValue}),{disabled:i,button:s,tooltip:n,showTooltip:u,tooltipVisible:d,wrapperStyle:m,formatValue:c,handleMouseEnter:p,handleMouseLeave:v,onButtonDown:g,onKeyDown:f,setPosition:h}=Ae(t,r,l),{hovering:b,dragging:y}=_(r);return a({onButtonDown:g,onKeyDown:f,setPosition:h,hovering:b,dragging:y}),(e,a)=>(C(),k("div",{ref_key:"button",ref:s,class:j([D(o).e("button-wrapper"),{hover:D(b),dragging:D(y)}]),style:M(D(m)),tabindex:D(i)?-1:0,onMouseenter:D(p),onMouseleave:D(v),onMousedown:D(g),onFocus:D(p),onBlur:D(v),onKeydown:D(f)},[E(D(pe),{ref_key:"tooltip",ref:n,visible:D(d),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!D(u),persistent:""},{content:A((()=>[S("span",null,F(D(c)),1)])),default:A((()=>[S("div",{class:j([D(o).e("button"),{hover:D(b),dragging:D(y)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}}),[["__file","button.vue"]]);var Me=w({name:"ElSliderMarker",props:e({mark:{type:a([String,Object]),default:void 0}}),setup(e){const a=B("slider"),l=p((()=>L(e.mark)?e.mark:e.mark.label)),t=p((()=>L(e.mark)?void 0:e.mark.style));return()=>P("div",{class:a.e("marks-text"),style:t.value},l.value)}});const ze=w({name:"ElSlider"});const Le=H(z(w({...ze,props:fe,emits:be,setup(e,{expose:a,emit:l}){const t=e,i=B("slider"),{t:s}=T(),n=x({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:v,slider:g,firstButton:f,secondButton:b,sliderDisabled:w,minValue:A,maxValue:F,runwayStyle:z,barStyle:L,resetSize:P,emitChange:H,onSliderWrapperPrevent:O,onSliderClick:R,onSliderDown:Q,onSliderMarkerDown:$,setFirstValue:G,setSecondValue:J}=ye(t,n,l),{stops:Z,getStopStyle:ee}=((e,a,l,t)=>({stops:p((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const o=(e.max-e.min)/e.step,r=100*e.step/(e.max-e.min),i=Array.from({length:o-1}).map(((e,a)=>(a+1)*r));return e.range?i.filter((a=>a<100*(l.value-e.min)/(e.max-e.min)||a>100*(t.value-e.min)/(e.max-e.min))):i.filter((l=>l>100*(a.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:a=>e.vertical?{bottom:"".concat(a,"%")}:{left:"".concat(a,"%")}}))(t,n,A,F),{inputId:ae,isLabeledByFormItem:le}=N(t,{formItemContext:v}),te=I(),oe=p((()=>t.inputSize||te.value)),re=p((()=>t.ariaLabel||s("el.slider.defaultLabel",{min:t.min,max:t.max}))),se=p((()=>t.range?t.rangeStartLabel||s("el.slider.defaultRangeStartLabel"):re.value)),ne=p((()=>t.formatValueText?t.formatValueText(fe.value):"".concat(fe.value))),ue=p((()=>t.rangeEndLabel||s("el.slider.defaultRangeEndLabel"))),de=p((()=>t.formatValueText?t.formatValueText(he.value):"".concat(he.value))),me=p((()=>[i.b(),i.m(te.value),i.is("vertical",t.vertical),{[i.m("with-input")]:t.showInput}])),ce=(e=>p((()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort(((e,a)=>e-a)).filter((a=>a<=e.max&&a>=e.min)).map((a=>({point:a,position:100*(a-e.min)/(e.max-e.min),mark:e.marks[a]}))):[])))(t);((e,a,l,t,i,s)=>{const n=e=>{i(o,e),i(r,e)},u=()=>e.range?![l.value,t.value].every(((e,l)=>e===a.oldValue[l])):e.modelValue!==a.oldValue,d=()=>{var l,t;e.min>e.max&&y("Slider","min should not be greater than max.");const o=e.modelValue;e.range&&Array.isArray(o)?o[1]<e.min?n([e.min,e.min]):o[0]>e.max?n([e.max,e.max]):o[0]<e.min?n([e.min,o[1]]):o[1]>e.max?n([o[0],e.max]):(a.firstValue=o[0],a.secondValue=o[1],u()&&(e.validateEvent&&(null==(l=null==s?void 0:s.validate)||l.call(s,"change").catch((e=>V()))),a.oldValue=o.slice())):e.range||"number"!=typeof o||Number.isNaN(o)||(o<e.min?n(e.min):o>e.max?n(e.max):(a.firstValue=o,u()&&(e.validateEvent&&(null==(t=null==s?void 0:s.validate)||t.call(s,"change").catch((e=>V()))),a.oldValue=o)))};d(),h((()=>a.dragging),(e=>{e||d()})),h((()=>e.modelValue),((e,l)=>{a.dragging||Array.isArray(e)&&Array.isArray(l)&&e.every(((e,a)=>e===l[a]))&&a.firstValue===e[0]&&a.secondValue===e[1]||d()}),{deep:!0}),h((()=>[e.min,e.max]),(()=>{d()}))})(t,n,A,F,l,v);const pe=p((()=>{const e=[t.min,t.max,t.step].map((e=>{const a="".concat(e).split(".")[1];return a?a.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:ve}=((e,a,l)=>{const t=u();return d((async()=>{e.range?(Array.isArray(e.modelValue)?(a.firstValue=Math.max(e.min,e.modelValue[0]),a.secondValue=Math.min(e.max,e.modelValue[1])):(a.firstValue=e.min,a.secondValue=e.max),a.oldValue=[a.firstValue,a.secondValue]):("number"!=typeof e.modelValue||Number.isNaN(e.modelValue)?a.firstValue=e.min:a.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),a.oldValue=a.firstValue),m(window,"resize",l),await c(),l()})),{sliderWrapper:t}})(t,n,P),{firstValue:fe,secondValue:he,sliderSize:be}=_(n);return m(ve,"touchstart",O,{passive:!1}),m(ve,"touchmove",O,{passive:!1}),U(ge,{..._(t),sliderSize:be,disabled:w,precision:pe,emitChange:H,resetSize:P,updateDragging:e=>{n.dragging=e}}),a({onSliderClick:R}),(e,a)=>{var l,t;return C(),k("div",{id:e.range?D(ae):void 0,ref_key:"sliderWrapper",ref:ve,class:j(D(me)),role:e.range?"group":void 0,"aria-label":e.range&&!D(le)?D(re):void 0,"aria-labelledby":e.range&&D(le)?null==(l=D(v))?void 0:l.labelId:void 0},[S("div",{ref_key:"slider",ref:g,class:j([D(i).e("runway"),{"show-input":e.showInput&&!e.range},D(i).is("disabled",D(w))]),style:M(D(z)),onMousedown:D(Q),onTouchstartPassive:D(Q)},[S("div",{class:j(D(i).e("bar")),style:M(D(L))},null,6),E(je,{id:e.range?void 0:D(ae),ref_key:"firstButton",ref:f,"model-value":D(fe),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!D(le)?D(se):void 0,"aria-labelledby":!e.range&&D(le)?null==(t=D(v))?void 0:t.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?D(he):e.max,"aria-valuenow":D(fe),"aria-valuetext":D(ne),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":D(w),"onUpdate:modelValue":D(G)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?(C(),q(je,{key:0,ref_key:"secondButton",ref:b,"model-value":D(he),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":D(ue),"aria-valuemin":D(fe),"aria-valuemax":e.max,"aria-valuenow":D(he),"aria-valuetext":D(de),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":D(w),"onUpdate:modelValue":D(J)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):X("v-if",!0),e.showStops?(C(),k("div",{key:1},[(C(!0),k(Y,null,K(D(Z),((e,a)=>(C(),k("div",{key:a,class:j(D(i).e("stop")),style:M(D(ee)(e))},null,6)))),128))])):X("v-if",!0),D(ce).length>0?(C(),k(Y,{key:2},[S("div",null,[(C(!0),k(Y,null,K(D(ce),((e,a)=>(C(),k("div",{key:a,style:M(D(ee)(e.position)),class:j([D(i).e("stop"),D(i).e("marks-stop")])},null,6)))),128))]),S("div",{class:j(D(i).e("marks"))},[(C(!0),k(Y,null,K(D(ce),((e,a)=>(C(),q(D(Me),{key:a,mark:e.mark,style:M(D(ee)(e.position)),onMousedown:W((a=>D($)(e.position)),["stop"])},null,8,["mark","style","onMousedown"])))),128))],2)],64)):X("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),e.showInput&&!e.range?(C(),q(D(ie),{key:0,ref:"input","model-value":D(fe),class:j(D(i).e("input")),step:e.step,disabled:D(w),controls:e.showInputControls,min:e.min,max:e.max,precision:D(pe),debounce:e.debounce,size:D(oe),"onUpdate:modelValue":D(G),onChange:D(H)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):X("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}}),[["__file","slider.vue"]])),Pe={class:"gva-search-box"},Te={style:{display:"block","border-right":"none"}},Ne={style:{display:"block",color:"#8492a6","font-size":"14px","margin-bottom":"20px"}},Ie={class:"gva-search-box"},Ue={key:0,style:{display:"block","border-right":"none"}},qe={key:1,class:"block"},Xe={class:"dialog-footer"},Ye={data:()=>({fits:["fill","contain","cover","none","scale-down"],out_show:!1,isBuy:!1,keywords:"",pics:[],out_pics:[],formInline:{user:"",region:""},ruleForm:{name:"",desc:"",rdesc:"",number:1,height:960,weight:960,seed:2,steps:2,cfg_scale:2,delivery:!1,type:[],resource:"",desc:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],number:[{required:!0,message:"请选择生成数量",min:1,max:10}],steps:[{required:!0,message:"请选择生成步数",min:1,max:10}],cfg_scale:[{required:!0,message:"请选择文本引导强度",min:1,max:10}],weight:[{required:!0,message:"请选择宽度",min:960,max:2048}],height:[{required:!0,message:"请选择高度",min:960,max:2048}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}),mounted(){console.log(this.$route.query);const e=history.state.req;this.pics=e.data,this.keywords=e.keywords,console.log(this.pics)},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},BuyAigc(e){G({type:"success",message:"交易成功！!",duration:1e3}),this.$refs[e].resetFields()},txt2imgFunc(){console.log(this.out_show);let e=this;console.log(e.out_show),J.defaults.baseURL="/sdapi";let a=[],l=e.number;J.post("/v1/txt2img",{prompt:this.keywords+this.ruleForm.desc,negative_prompt:this.ruleForm.rdesc,seed:this.ruleForm.seed,batch_size:this.ruleForm.number,n_iter:1,steps:this.ruleForm.steps,cfg_scale:this.ruleForm.cfg_scale,width:this.ruleForm.weight,height:this.ruleForm.height}).then((function(t){console.log(t.data.images),l=t.data.images.length;for(let e=0;e<l;e++){var o="data:image/png;base64,";o+=t.data.images[e],a.push(o),console.log(o),console.log(a)}console.log(a),e.out_pics=a,e.out_show=!0})).catch((function(e){console.log(e)}))}}},Ke=Object.assign(Ye,{name:"Img2img"},{__name:"img2img",setup(e){const a=O();u({desc:"",rdesc:"",number:"",height:"",width:"",seed:"",steps:"",cfg_scale:"",pic:"",output:"",picurl:"",outputurl:""}),x({});const l=x({createdAt:[{validator:(e,a,l)=>{n.value.startCreatedAt&&!n.value.endCreatedAt?l(new Error("请填写结束日期")):!n.value.startCreatedAt&&n.value.endCreatedAt?l(new Error("请填写开始日期")):n.value.startCreatedAt&&n.value.endCreatedAt&&(n.value.startCreatedAt.getTime()===n.value.endCreatedAt.getTime()||n.value.startCreatedAt.getTime()>n.value.endCreatedAt.getTime())?l(new Error("开始日期应当早于结束日期")):l()},trigger:"change"}]});u();const t=u(),o=u(),r=u(0),i=u(10),s=u([]),n=u({}),d=()=>{var e;null==(e=t.value)||e.validate((async e=>{e&&(o.value=1,i.value=10,m())}))},m=async()=>{const e=await de({page:o.value,pageSize:i.value,...n.value});0===e.code&&(s.value=e.data.list,r.value=e.data.total,o.value=e.data.page,i.value=e.data.pageSize)};m();(async()=>{})(),u([]),u(!1),u(""),u(!1),u(!1);const c=()=>{isBuy=!1,G({type:"warning",message:"交易取消!",duration:1e3})},p=async()=>{const e=await(async()=>{isBuy=!0;const e={Buyer:a.userInfo.nickName,Seller:pics.owner,Work:pics.url,Goods:pics.price};return(await me(e)).code})(pics);console.log(tmp),0===e?(G({type:"success",message:"交易成功！!",duration:1e3}),isBuy=!1):(G({type:"error",message:"交易失败！!",duration:1e3}),isBuy=!1)};return(e,a)=>{const o=R("QuestionFilled"),r=Z,i=pe,s=ne,u=ue,m=se,v=ee,g=Le,f=oe,h=re,b=te,y=ae,V=le;return C(),k("div",null,[S("div",Pe,[E(u,{ref_key:"elSearchFormRef",ref:t,inline:!0,model:n.value,class:"demo-form-inline",rules:l,onKeyup:$(d,["enter"])},{default:A((()=>[E(s,{label:"创建日期",prop:"createdAt"},{label:A((()=>[S("span",null,[a[13]||(a[13]=Q(" 参考图片 ")),E(i,{content:"用于辅助AIGC作品风格确定"},{default:A((()=>[E(r,null,{default:A((()=>[E(o)])),_:1})])),_:1})]),a[14]||(a[14]=S("div",{class:"demo-image__placeholder"},[S("div",{class:"block"},[S("span",{class:"demonstration"},"检索导入")])],-1))])),_:1})])),_:1},8,["model","rules"]),S("div",Te,[(C(!0),k(Y,null,K(e.pics,(a=>(C(),k("div",{style:{padding:"30px 0","text-align":"center","border-right":"1px solid #eff2f6",display:"inline-block",width:"20%","box-sizing":"border-box","vertical-align":"top"},key:e.fit},[S("span",Ne,F(a.name),1),E(m,{style:{width:"100px",height:"100px"},src:a.url,fit:e.contain},null,8,["src","fit"])])))),128))])]),S("div",Ie,[a[20]||(a[20]=S("div",null," 图片生成 ",-1)),E(u,{model:e.ruleForm,rules:e.rules,ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:A((()=>[E(s,{label:"作品名称",prop:"name"},{default:A((()=>[E(v,{modelValue:e.ruleForm.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.ruleForm.name=a)},null,8,["modelValue"])])),_:1}),E(s,{label:"描述词",prop:"desc"},{default:A((()=>[E(v,{modelValue:e.ruleForm.desc,"onUpdate:modelValue":a[1]||(a[1]=a=>e.ruleForm.desc=a)},null,8,["modelValue"])])),_:1}),E(s,{label:"反向描述词",prop:"rdesc"},{default:A((()=>[E(v,{modelValue:e.ruleForm.rdesc,"onUpdate:modelValue":a[2]||(a[2]=a=>e.ruleForm.rdesc=a)},null,8,["modelValue"])])),_:1}),E(s,{label:"生成数量",required:""},{default:A((()=>[E(g,{modelValue:e.ruleForm.number,"onUpdate:modelValue":a[3]||(a[3]=a=>e.ruleForm.number=a),min:1,max:10,"show-input":""},null,8,["modelValue"])])),_:1}),E(s,{label:"输出分辨率",required:""},{default:A((()=>[a[15]||(a[15]=Q(" 宽度： ")),E(g,{modelValue:e.ruleForm.weight,"onUpdate:modelValue":a[4]||(a[4]=a=>e.ruleForm.weight=a),min:960,max:2048,"show-input":""},null,8,["modelValue"]),a[16]||(a[16]=Q(" 高度: ")),E(g,{modelValue:e.ruleForm.height,"onUpdate:modelValue":a[5]||(a[5]=a=>e.ruleForm.height=a),min:960,max:2048,"show-input":""},null,8,["modelValue"])])),_:1}),a[19]||(a[19]=Q(" 生成式模型： ")),E(s,{label:"",prop:"region"},{default:A((()=>[E(h,{modelValue:e.ruleForm.region,"onUpdate:modelValue":a[6]||(a[6]=a=>e.ruleForm.region=a),placeholder:"请选择生成模型",style:{width:"300px"}},{default:A((()=>[E(f,{label:"realcartoon3d_ v11.safetensors [408a4d0253]",value:"realcartoon3d_ v11.safetensors [408a4d0253]"}),E(f,{label:"realismFromHades_v81HQ.safetensors [fb4cdf649b]",value:"realismFromHades_v81HQ.safetensors [fb4cdf649b]"}),E(f,{label:"v1-5-pruned-emaonly.ckpt[cc6cb27103]",value:"v1-5-pruned-emaonly.ckpt[cc6cb27103]"})])),_:1},8,["modelValue"])])),_:1}),E(s,{label:"种子",prop:"seed"},{default:A((()=>[E(v,{modelValue:e.ruleForm.seed,"onUpdate:modelValue":a[7]||(a[7]=a=>e.ruleForm.seed=a)},null,8,["modelValue"])])),_:1}),E(s,{label:"步数",prop:"steps"},{default:A((()=>[E(g,{modelValue:e.ruleForm.steps,"onUpdate:modelValue":a[8]||(a[8]=a=>e.ruleForm.steps=a),min:1,max:100,"show-input":""},null,8,["modelValue"])])),_:1}),E(s,{label:"文本引导强度",prop:"cfg_scale"},{default:A((()=>[E(g,{modelValue:e.ruleForm.cfg_scale,"onUpdate:modelValue":a[9]||(a[9]=a=>e.ruleForm.cfg_scale=a),min:1,max:10,"show-input":""},null,8,["modelValue"])])),_:1}),e.out_show?(C(),k("div",Ue,[(C(!0),k(Y,null,K(e.out_pics,(a=>(C(),q(m,{key:e.url,src:a,lazy:""},null,8,["src"])))),128))])):(C(),k("div",qe,[E(b,{"image-size":100})])),E(s,null,{default:A((()=>[E(y,{type:"primary",onClick:a[10]||(a[10]=a=>e.txt2imgFunc())},{default:A((()=>a[17]||(a[17]=[Q("开始生成")]))),_:1}),E(y,{onClick:a[11]||(a[11]=a=>e.BuyAigc())},{default:A((()=>a[18]||(a[18]=[Q("购买")]))),_:1})])),_:1})])),_:1},8,["model","rules"])]),E(V,{modelValue:e.isBuy,"onUpdate:modelValue":a[12]||(a[12]=a=>e.isBuy=a),title:"是否确认购买",color:"red",align:"center",width:"720px"},{default:A((()=>[S("div",Xe,[E(y,{onClick:c},{default:A((()=>a[21]||(a[21]=[Q("取 消")]))),_:1}),E(y,{type:"primary",onClick:p},{default:A((()=>a[22]||(a[22]=[Q("确 定")]))),_:1})])])),_:1},8,["modelValue"])])}}});export{Ke as default};
