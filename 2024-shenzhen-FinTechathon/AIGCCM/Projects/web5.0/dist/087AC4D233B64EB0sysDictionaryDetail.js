/*! 
 Build based on gin-vue-admin 
 Time : 1730113336000 */
import{s as e,a,X as l,o as t,c as i,b as o,e as s,w as r,g as u,t as n,D as d,j as p,E as m,k as c}from"./087AC4D233B64EB0index.js";import{E as D}from"./087AC4D233B64EB0dialog.js";import"./087AC4D233B64EB0overlay.js";import{a as y,E as v}from"./087AC4D233B64EB0form-item.js";import{E as B}from"./087AC4D233B64EB0switch.js";/* empty css                     */import{E as f}from"./087AC4D233B64EB0input-number.js";/* empty css                          */import"./087AC4D233B64EB0tag.js";import"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0scrollbar.js";/* empty css                      */import{E as b,a as g}from"./087AC4D233B64EB0table-column.js";import"./087AC4D233B64EB0checkbox.js";/* empty css                       */import{E as C}from"./087AC4D233B64EB0popover.js";/* empty css                      */import{f as E,a as j}from"./087AC4D233B64EB0format.js";import{E as A}from"./087AC4D233B64EB0index25.js";import"./087AC4D233B64EB0index21.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0index20.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0token.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0debounce.js";import"./087AC4D233B64EB0dropdown.js";import"./087AC4D233B64EB0date.js";const w=a=>e({url:"/sysDictionaryDetail/createSysDictionaryDetail",method:"post",data:a}),h={class:"gva-table-box"},_={class:"gva-btn-list justify-between"},V={style:{"text-align":"right","margin-top":"8px"}},k={class:"gva-pagination"},x={class:"dialog-footer"},I=Object.assign({name:"SysDictionaryDetail"},{__name:"sysDictionaryDetail",props:{sysDictionaryID:{type:Number,default:0}},setup(I){const S=I,U=a({label:null,value:null,status:!0,sort:null}),z=a({label:[{required:!0,message:"请输入展示值",trigger:"blur"}],value:[{required:!0,message:"请输入字典值",trigger:"blur"}],sort:[{required:!0,message:"排序标记",trigger:"blur"}]}),q=a(1),M=a(0),O=a(10),F=a([]),L=e=>{O.value=e,T()},N=e=>{q.value=e,T()},T=async()=>{const a=await(l={page:q.value,pageSize:O.value,sysDictionaryID:S.sysDictionaryID},e({url:"/sysDictionaryDetail/getSysDictionaryDetailList",method:"get",params:l}));var l;0===a.code&&(F.value=a.data.list,M.value=a.data.total,q.value=a.data.page,O.value=a.data.pageSize)};T();const X=a(""),G=a(!1),H=async a=>{const l=await(t={ID:a.ID},e({url:"/sysDictionaryDetail/findSysDictionaryDetail",method:"get",params:t}));var t;X.value="update",0===l.code&&(U.value=l.data.reSysDictionaryDetail,G.value=!0)},J=()=>{G.value=!1,U.value={label:null,value:null,status:!0,sort:null,sysDictionaryID:S.sysDictionaryID}},K=async a=>{a.visible=!1;var l;0===(await(l={ID:a.ID},e({url:"/sysDictionaryDetail/deleteSysDictionaryDetail",method:"delete",data:l}))).code&&(p({type:"success",message:"删除成功"}),1===F.value.length&&q.value>1&&q.value--,T())},P=a(null),Q=async()=>{P.value.validate((async a=>{if(U.value.sysDictionaryID=S.sysDictionaryID,!a)return;let l;switch(X.value){case"create":default:l=await w(U.value);break;case"update":l=await(t=U.value,e({url:"/sysDictionaryDetail/updateSysDictionaryDetail",method:"put",data:t}))}var t;0===l.code&&(p({type:"success",message:"创建/更改成功"}),J(),T())}))},R=()=>{X.value="create",G.value=!0};return l((()=>S.sysDictionaryID),(()=>{T()})),(e,a)=>{const l=m,p=b,w=C,I=g,S=A,T=c,W=y,Y=f,Z=B,$=v,ee=D;return t(),i("div",null,[o("div",h,[o("div",_,[a[7]||(a[7]=o("span",{class:"text font-bold"},"字典详细内容",-1)),s(l,{type:"primary",icon:"plus",onClick:R},{default:r((()=>a[6]||(a[6]=[u("新增字典项")]))),_:1})]),s(I,{ref:"multipleTable",data:F.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:r((()=>[s(p,{type:"selection",width:"55"}),s(p,{align:"left",label:"日期",width:"180"},{default:r((e=>[u(n(d(E)(e.row.CreatedAt)),1)])),_:1}),s(p,{align:"left",label:"展示值",prop:"label"}),s(p,{align:"left",label:"字典值",prop:"value"}),s(p,{align:"left",label:"扩展值",prop:"extend"}),s(p,{align:"left",label:"启用状态",prop:"status",width:"120"},{default:r((e=>[u(n(d(j)(e.row.status)),1)])),_:1}),s(p,{align:"left",label:"排序标记",prop:"sort",width:"120"}),s(p,{align:"left",label:"操作",width:"180"},{default:r((e=>[s(l,{type:"primary",link:"",icon:"edit",onClick:a=>H(e.row)},{default:r((()=>a[8]||(a[8]=[u("变更")]))),_:2},1032,["onClick"]),s(w,{modelValue:e.row.visible,"onUpdate:modelValue":a=>e.row.visible=a,placement:"top",width:"160"},{reference:r((()=>[s(l,{type:"primary",link:"",icon:"delete",onClick:a=>e.row.visible=!0},{default:r((()=>a[11]||(a[11]=[u("删除")]))),_:2},1032,["onClick"])])),default:r((()=>[a[12]||(a[12]=o("p",null,"确定要删除吗？",-1)),o("div",V,[s(l,{type:"primary",link:"",onClick:a=>e.row.visible=!1},{default:r((()=>a[9]||(a[9]=[u("取消")]))),_:2},1032,["onClick"]),s(l,{type:"primary",onClick:a=>K(e.row)},{default:r((()=>a[10]||(a[10]=[u("确定")]))),_:2},1032,["onClick"])])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"]),o("div",k,[s(S,{"current-page":q.value,"page-size":O.value,"page-sizes":[10,30,50,100],total:M.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:N,onSizeChange:L},null,8,["current-page","page-size","total"])])]),s(ee,{modelValue:G.value,"onUpdate:modelValue":a[5]||(a[5]=e=>G.value=e),"before-close":J,title:"create"===X.value?"添加字典项":"修改字典项"},{footer:r((()=>[o("div",x,[s(l,{onClick:J},{default:r((()=>a[13]||(a[13]=[u("取 消")]))),_:1}),s(l,{type:"primary",onClick:Q},{default:r((()=>a[14]||(a[14]=[u("确 定")]))),_:1})])])),default:r((()=>[s($,{ref_key:"dialogForm",ref:P,model:U.value,rules:z.value,"label-width":"110px"},{default:r((()=>[s(W,{label:"展示值",prop:"label"},{default:r((()=>[s(T,{modelValue:U.value.label,"onUpdate:modelValue":a[0]||(a[0]=e=>U.value.label=e),placeholder:"请输入展示值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(W,{label:"字典值",prop:"value"},{default:r((()=>[s(Y,{modelValue:U.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value.value=e),modelModifiers:{number:!0},"step-strictly":"",step:1,placeholder:"请输入字典值",clearable:"",style:{width:"100%"},min:"-2147483648",max:"2147483647"},null,8,["modelValue"])])),_:1}),s(W,{label:"扩展值",prop:"extend"},{default:r((()=>[s(T,{modelValue:U.value.extend,"onUpdate:modelValue":a[2]||(a[2]=e=>U.value.extend=e),placeholder:"请输入扩展值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(W,{label:"启用状态",prop:"status",required:""},{default:r((()=>[s(Z,{modelValue:U.value.status,"onUpdate:modelValue":a[3]||(a[3]=e=>U.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),s(W,{label:"排序标记",prop:"sort"},{default:r((()=>[s(Y,{modelValue:U.value.sort,"onUpdate:modelValue":a[4]||(a[4]=e=>U.value.sort=e),modelModifiers:{number:!0},placeholder:"排序标记"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{I as default};
