/*! 
 Build based on gin-vue-admin 
 Time : 1730113336000 */
import{a$ as e,A as a,a2 as t,a7 as n,a3 as l,a6 as r,a5 as u,aR as s,a4 as i,q as o,ah as c,v as d,a as m,r as v,aa as p,C as b,bi as f,aj as N,cc as y,X as x,P as V,b1 as h,o as I,c as g,S as E,D as S,n as w,m as A,z as F,e as k,w as _,h as B,av as $,cO as K,H as O,f as T,ca as C,aV as D,ax as L,ak as M,k as z,_ as P,ad as j,ag as Y,ae as q,I as G}from"./087AC4D233B64EB0index.js";const H=100,R=600,X={beforeMount(a,t){const n=t.value,{interval:l=H,delay:r=R}=e(n)?{}:n;let u,s;const i=()=>e(n)?n():n.handler(),o=()=>{s&&(clearTimeout(s),s=void 0),u&&(clearInterval(u),u=void 0)};a.addEventListener("mousedown",(e=>{0===e.button&&(o(),i(),document.addEventListener("mouseup",(()=>o()),{once:!0}),s=setTimeout((()=>{u=setInterval((()=>{i()}),l)}),r))}))}},J=a({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:t,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>null===e||n(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt("".concat(e),10)},validateEvent:{type:Boolean,default:!0},...l(["ariaLabel"])}),Q={[r]:(e,a)=>a!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[u]:e=>n(e)||s(e),[i]:e=>n(e)||s(e)},U=o({name:"ElInputNumber"});const W=G(P(o({...U,props:J,emits:Q,setup(e,{expose:a,emit:t}){const l=e,{t:o}=c(),P=d("input-number"),G=m(),H=v({currentValue:l.modelValue,userInput:null}),{formItem:R}=p(),J=b((()=>n(l.modelValue)&&l.modelValue<=l.min)),Q=b((()=>n(l.modelValue)&&l.modelValue>=l.max)),U=b((()=>{const e=ne(l.step);return f(l.precision)?Math.max(ne(l.modelValue),e):(l.precision,l.precision)})),W=b((()=>l.controls&&"right"===l.controlsPosition)),Z=N(),ee=y(),ae=b((()=>{if(null!==H.userInput)return H.userInput;let e=H.currentValue;if(s(e))return"";if(n(e)){if(Number.isNaN(e))return"";f(l.precision)||(e=e.toFixed(l.precision))}return e})),te=(e,a)=>{if(f(a)&&(a=U.value),0===a)return Math.round(e);let t=String(e);const n=t.indexOf(".");if(-1===n)return e;if(!t.replace(".","").split("")[n+a])return e;const l=t.length;return"5"===t.charAt(l-1)&&(t="".concat(t.slice(0,Math.max(0,l-1)),"6")),Number.parseFloat(Number(t).toFixed(a))},ne=e=>{if(s(e))return 0;const a=e.toString(),t=a.indexOf(".");let n=0;return-1!==t&&(n=a.length-t-1),n},le=(e,a=1)=>n(e)?te(e+l.step*a):H.currentValue,re=()=>{if(l.readonly||ee.value||Q.value)return;const e=Number(ae.value)||0,a=le(e);ie(a),t(u,H.currentValue),ve()},ue=()=>{if(l.readonly||ee.value||J.value)return;const e=Number(ae.value)||0,a=le(e,-1);ie(a),t(u,H.currentValue),ve()},se=(e,a)=>{const{max:n,min:r,step:u,precision:o,stepStrictly:c,valueOnClear:d}=l;n<r&&j("InputNumber","min should not be greater than max.");let m=Number(e);if(s(e)||Number.isNaN(m))return null;if(""===e){if(null===d)return null;m=Y(d)?{min:r,max:n}[d]:d}return c&&(m=te(Math.round(m/u)*u,o),m!==e&&a&&t(i,m)),f(o)||(m=te(m,o)),(m>n||m<r)&&(m=m>n?n:r,a&&t(i,m)),m},ie=(e,a=!0)=>{var n;const u=H.currentValue,s=se(e);a?u===s&&e||(H.userInput=null,t(i,s),u!==s&&t(r,s,u),l.validateEvent&&(null==(n=null==R?void 0:R.validate)||n.call(R,"change").catch((e=>q()))),H.currentValue=s):t(i,s)},oe=e=>{H.userInput=e;const a=""===e?null:Number(e);t(u,a),ie(a,!1)},ce=e=>{const a=""!==e?Number(e):"";(n(a)&&!Number.isNaN(a)||""===e)&&ie(a),ve(),H.userInput=null},de=e=>{t("focus",e)},me=e=>{var a;H.userInput=null,t("blur",e),l.validateEvent&&(null==(a=null==R?void 0:R.validate)||a.call(R,"blur").catch((e=>q())))},ve=()=>{H.currentValue!==l.modelValue&&(H.currentValue=l.modelValue)},pe=e=>{document.activeElement===e.target&&e.preventDefault()};return x((()=>l.modelValue),((e,a)=>{const t=se(e,!0);null===H.userInput&&t!==a&&(H.currentValue=t)}),{immediate:!0}),V((()=>{var e;const{min:a,max:r,modelValue:u}=l,s=null==(e=G.value)?void 0:e.input;if(s.setAttribute("role","spinbutton"),Number.isFinite(r)?s.setAttribute("aria-valuemax",String(r)):s.removeAttribute("aria-valuemax"),Number.isFinite(a)?s.setAttribute("aria-valuemin",String(a)):s.removeAttribute("aria-valuemin"),s.setAttribute("aria-valuenow",H.currentValue||0===H.currentValue?String(H.currentValue):""),s.setAttribute("aria-disabled",String(ee.value)),!n(u)&&null!=u){let e=Number(u);Number.isNaN(e)&&(e=null),t(i,e)}s.addEventListener("wheel",pe,{passive:!1})})),h((()=>{var e,a;const t=null==(e=G.value)?void 0:e.input;null==t||t.setAttribute("aria-valuenow","".concat(null!=(a=H.currentValue)?a:""))})),a({focus:()=>{var e,a;null==(a=null==(e=G.value)?void 0:e.focus)||a.call(e)},blur:()=>{var e,a;null==(a=null==(e=G.value)?void 0:e.blur)||a.call(e)}}),(e,a)=>(I(),g("div",{class:w([S(P).b(),S(P).m(S(Z)),S(P).is("disabled",S(ee)),S(P).is("without-controls",!e.controls),S(P).is("controls-right",S(W))]),onDragstart:M((()=>{}),["prevent"])},[e.controls?E((I(),g("span",{key:0,role:"button","aria-label":S(o)("el.inputNumber.decrease"),class:w([S(P).e("decrease"),S(P).is("disabled",S(J))]),onKeydown:A(ue,["enter"])},[F(e.$slots,"decrease-icon",{},(()=>[k(S(O),null,{default:_((()=>[S(W)?(I(),B(S($),{key:0})):(I(),B(S(K),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[S(X),ue]]):T("v-if",!0),e.controls?E((I(),g("span",{key:1,role:"button","aria-label":S(o)("el.inputNumber.increase"),class:w([S(P).e("increase"),S(P).is("disabled",S(Q))]),onKeydown:A(re,["enter"])},[F(e.$slots,"increase-icon",{},(()=>[k(S(O),null,{default:_((()=>[S(W)?(I(),B(S(C),{key:0})):(I(),B(S(D),{key:1}))])),_:1})]))],42,["aria-label","onKeydown"])),[[S(X),re]]):T("v-if",!0),k(S(z),{id:e.id,ref_key:"input",ref:G,type:"number",step:e.step,"model-value":S(ae),placeholder:e.placeholder,readonly:e.readonly,disabled:S(ee),size:S(Z),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,onKeydown:[A(M(re,["prevent"]),["up"]),A(M(ue,["prevent"]),["down"])],onBlur:me,onFocus:de,onInput:oe,onChange:ce},L({_:2},[e.$slots.prefix?{name:"prefix",fn:_((()=>[F(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:_((()=>[F(e.$slots,"suffix")]))}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}}),[["__file","input-number.vue"]]));export{W as E,X as v};
