/*! 
 Build based on gin-vue-admin 
 Time : 1730113336000 */
import{a as e,N as a,o as t,c as l,e as s,b as o,w as i,g as r,K as u,L as n,n as d,t as p,ak as c,D as m,d4 as B,j as v,E as D,H as y,k as C}from"./087AC4D233B64EB0index.js";import{E as f}from"./087AC4D233B64EB0dialog.js";import"./087AC4D233B64EB0overlay.js";import{a as E,E as j}from"./087AC4D233B64EB0form-item.js";import{E as A}from"./087AC4D233B64EB0switch.js";/* empty css                     */import{E as b}from"./087AC4D233B64EB0scrollbar.js";/* empty css                      */import{E as g}from"./087AC4D233B64EB0popover.js";/* empty css                      */import{g as x,f as h,d as w,c as _,u as k}from"./087AC4D233B64EB0sysDictionary2.js";import{_ as V}from"./087AC4D233B64EB0warningBar.js";import I from"./087AC4D233B64EB0sysDictionaryDetail.js";import"./087AC4D233B64EB0index21.js";import"./087AC4D233B64EB0castArray.js";import"./087AC4D233B64EB0_baseClone.js";import"./087AC4D233B64EB0_Uint8Array.js";import"./087AC4D233B64EB0_initCloneObject.js";import"./087AC4D233B64EB0index20.js";import"./087AC4D233B64EB0dropdown.js";import"./087AC4D233B64EB0input-number.js";/* empty css                          */import"./087AC4D233B64EB0tag.js";import"./087AC4D233B64EB0isEqual.js";import"./087AC4D233B64EB0select.js";import"./087AC4D233B64EB0index22.js";import"./087AC4D233B64EB0token.js";import"./087AC4D233B64EB0strings.js";import"./087AC4D233B64EB0debounce.js";import"./087AC4D233B64EB0table-column.js";import"./087AC4D233B64EB0checkbox.js";/* empty css                       */import"./087AC4D233B64EB0format.js";import"./087AC4D233B64EB0date.js";import"./087AC4D233B64EB0index25.js";const U={class:"dict-box flex gap-4"},q={class:"w-64 bg-white p-4"},O={class:"flex justify-between items-center"},F=["onClick"],H={class:"max-w-[160px] truncate"},K={style:{"text-align":"right","margin-top":"8px"}},L={class:"flex-1 bg-white"},N={class:"dialog-footer"},S=Object.assign({name:"SysDictionary"},{__name:"sysDictionary",setup(S){const z=e(1),G=e({name:null,type:null,status:!0,desc:null}),J=e({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),M=e([]),P=async()=>{const e=await x();0===e.code&&(M.value=e.data)};P();const Q=e(!1),R=e(""),T=()=>{Q.value=!1,G.value={name:null,type:null,status:!0,desc:null}},W=e(null),X=async()=>{W.value.validate((async e=>{if(!e)return;let a;switch(R.value){case"create":default:a=await _(G.value);break;case"update":a=await k(G.value)}0===a.code&&(v.success("操作成功"),T(),P())}))},Y=()=>{R.value="create",Q.value=!0};return(e,x)=>{const _=D,k=y,S=a("Delete"),Z=g,$=b,ee=C,ae=E,te=A,le=j,se=f;return t(),l("div",null,[s(V,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),o("div",U,[o("div",q,[o("div",O,[x[6]||(x[6]=o("span",{class:"text font-bold"},"字典列表",-1)),s(_,{type:"primary",onClick:Y},{default:i((()=>x[5]||(x[5]=[r(" 新增 ")]))),_:1})]),s($,{class:"mt-4",style:{height:"calc(100vh - 300px)"}},{default:i((()=>[(t(!0),l(u,null,n(M.value,(e=>(t(),l("div",{key:e.ID,class:d(["rounded flex justify-between items-center px-2 py-4 cursor-pointer mt-2 hover:bg-blue-50 hover:text-gray-800 group bg-gray-50",z.value===e.ID&&"active"]),onClick:a=>{return t=e,void(z.value=t.ID);var t}},[o("span",H,p(e.name),1),o("div",null,[s(k,{class:d(["group-hover:text-blue-500",z.value===e.ID?"text-white-800":"text-blue-500"]),onClick:c((a=>(async e=>{const a=await h({ID:e.ID,status:e.status});R.value="update",0===a.code&&(G.value=a.data.resysDictionary,Q.value=!0)})(e)),["stop"])},{default:i((()=>[s(m(B))])),_:2},1032,["class","onClick"]),s(Z,{placement:"top",width:"160"},{reference:i((()=>[s(k,{class:d(["ml-2 group-hover:text-red-500",z.value===e.ID?"text-white-800":"text-red-500"])},{default:i((()=>[s(S)])),_:2},1032,["class"])])),default:i((()=>[x[9]||(x[9]=o("p",null,"确定要删除吗？",-1)),o("div",K,[s(_,{type:"primary",link:"",onClick:a=>e.visible=!1},{default:i((()=>x[7]||(x[7]=[r("取消")]))),_:2},1032,["onClick"]),s(_,{type:"primary",onClick:a=>(async e=>{e.visible=!1,0===(await w({ID:e.ID})).code&&(v({type:"success",message:"删除成功"}),P())})(e)},{default:i((()=>x[8]||(x[8]=[r("确定")]))),_:2},1032,["onClick"])])])),_:2},1024)])],10,F)))),128))])),_:1})]),o("div",L,[s(I,{"sys-dictionary-i-d":z.value},null,8,["sys-dictionary-i-d"])])]),s(se,{modelValue:Q.value,"onUpdate:modelValue":x[4]||(x[4]=e=>Q.value=e),"before-close":T,title:"create"===R.value?"添加字典":"修改字典"},{footer:i((()=>[o("div",N,[s(_,{onClick:T},{default:i((()=>x[10]||(x[10]=[r("取 消")]))),_:1}),s(_,{type:"primary",onClick:X},{default:i((()=>x[11]||(x[11]=[r("确 定")]))),_:1})])])),default:i((()=>[s(le,{ref_key:"dialogForm",ref:W,model:G.value,rules:J.value,"label-width":"110px"},{default:i((()=>[s(ae,{label:"字典名（中）",prop:"name"},{default:i((()=>[s(ee,{modelValue:G.value.name,"onUpdate:modelValue":x[0]||(x[0]=e=>G.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ae,{label:"字典名（英）",prop:"type"},{default:i((()=>[s(ee,{modelValue:G.value.type,"onUpdate:modelValue":x[1]||(x[1]=e=>G.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ae,{label:"状态",prop:"status",required:""},{default:i((()=>[s(te,{modelValue:G.value.status,"onUpdate:modelValue":x[2]||(x[2]=e=>G.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),s(ae,{label:"描述",prop:"desc"},{default:i((()=>[s(ee,{modelValue:G.value.desc,"onUpdate:modelValue":x[3]||(x[3]=e=>G.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{S as default};
