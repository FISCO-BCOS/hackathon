# 亿点爱

团队名称：上园村小红果
团队成员：伍羽放、刘煜昊、袁恩泽、赵双、周琳
学校：北京交通大学

## 项目简介

近年来网络公益筹款平台层出不穷，但普遍存在监管制度不完善、个人隐私无法保护、个人行为无法约束等问题。因此本作品旨在通过区块链构建公益众筹平台，利用隐私保护技术实现安全可信存储，保护用户个人隐私的的同时有效防止虚假筹款和善款挪用，以此促进互联网公益众筹行业健康有序地发展。

## 项目背景

随着近些年来，公民参与社会公益的意识日益增强，科学信息技术不断发展，使得公益组织得到了迅速的发展。其中，各类众筹平台不断涌现，成为慈善、环境保护、扶贫等各个社会发展的领域中一股不可忽视的力量。公益众筹愈发活跃，频繁出现在人们的视野里，其不受空间、时间、地点的限制，信息交换具有互动性，成本低，更适合大众的需求。

目前公益众筹还存在如下问题：

1. 法律制度不健全

   公益众筹在概念上同慈善募捐和公益慈善行为有根本的区别。我国公益众筹在法律上没有形成完整的信息监管体系，在发起人的准入资质、平台的审核、信息的公开上都出现了诸多问题。

2. 监管制度不完善

   简便的发起程序、松散的审核力度、象征性的抽查复核都增大了发起人发布虚假信息的可能性，也为事后的追责设置了困难。

3. 个人隐私无法保护

   信息公开制度存在争议，无法保护发起人的个人隐私信息可能对其造成困扰，一部分捐赠者会利用发起人的个人信息频繁骚扰受益人，无法保证发起人的合法权益。

4. 个人行为无法约束

   通过捏造或者夸大困境博得公众的同情，诈骗他人财物，消耗公众对于公益众筹的支持和信任度。因而，对发起人和捐赠者的行为缺乏约束会直接降低项目的质量，进而影响发起人和捐赠者之间的彼此信任。

## 项目目标

本作品旨在通过区块链构建公益众筹平台，利用智能合约、隐私保护等技术可信存储信息，保护了用户个人隐私的同时有效防止虚假筹款和善款挪用，以期促进互联网公益众筹行业健康有序的发展。

设计目标如下：

1. 防止平台侵吞善款

   平台诚信问题在运行过程中饱受争议，民众的公益热情持续降低，对平台的不信任代替了爱心。将每一笔资金的来源和去向存储在区块链上，保证每一笔交易均可追溯，不可篡改。

2. 保护申请者个人隐私

   利用智能合约与加密技术，结合零知识证明、选择性披露等隐私保护方法，依据信息种类对其进行链上分类存储，将敏感信息、隐私信息等以密文形式存储，维护了发起人的合法权益。

3. 追踪善款去向

   将资金使用的明细上链，给捐赠者提供了方便的监督渠道，使得所有的慈善款去向清晰明了，提高公民对平台的信任感。

4. 自动化验证信息

   使用跨链技术，实现对用户所提交的个人病例信息与资产信息的自动化查询验证，提高平台的可靠性。

## 方案

### 技术概述

Web前端界面主要有信息公示、资助申请、我的资助、我的筹款四个功能模块，采用JavaScript + Vue + Element UI组件进行界面设计，根据用户的操作，发起相应请求到后端，执行对区块链数据的读写操作。

后端作为数据处理方，主要负责隐私保护模块以及数据的传输。在接收到前端传输的用户明文数据后，会向医院管理的病例信息存储链以及车管所、房管所管理的车房资产存储链发送查询认证请求，两条链完成验证后会返回验证结果，若结果为是，则会对数据进行选择性披露认证以及零知识证明认证，生成相应的认证数据及认证密钥，分别由区块链以及数据库保存，若结果为否，则返回错误信息，用户可再次填写重新提交，若提交错误达五次，则该用户将被拉入黑名单，不可再提交筹款申请。后端在收到查询用户详细信息请求后，会以同样的传输方式从区块链获取数据，并进行认证处理，最后选择性向查询者披露明文，保护用户隐私数据。

区块链模块本质上可以视为一个存储数据信息的分布式数据库，也可以作为一个系统内多方用户的共享公共账本。账本由多种区块共同构成，分别存放每一名用户的不同信息，隐私信息作为密文上链存储，需要公开展示的信息则作为明文进行存储，可以供所有用户随时查询。

### 隐私保护方案

为了保证用户的筹款明细以及使用善款的明细公开透明且防止恶意篡改，所以使用区块链系统作为数据存储的媒介，但是也正因为区块链系统的公开透明原则，导致了在链上存储的用户信息会发生泄漏。

因此，在亿点爱系统中使用了微众银行提供的WeDPR隐私保护模块，WeDPR是一系列即时可用场景式隐私保护高效解决方案套件和服务，通过该模块，系统在后端实现了对用户信息的认证并生成特定密文，将密文和用户ID存储在区块链上，保证用户的隐私。在需要对用户信息进行认证或披露的情况下，根据区块链上存储的密文以及用户所保存的私钥进行认证，最终披露出非敏感个人信息。

#### 加密模块

具体的加密流程如下图所示：

![image-20211107091357670](https://i.loli.net/2021/11/07/U2nMeGQHz4Og7wC.png)

为了最大程度的保护用户隐私数据，系统对用户所输入的全部个人信息进行加密处理，具体的加密流程如下：

接收到用户发送的明文信息后，分别将汉字及英文字母转换为字节数组，从而将这两部分信息转化为十进制的数字。

因为负数不能作为加密模块的输入值，因此对所有的十进制编码信息统一加和一个固定数值，使所有数值转化为正三位数。

依据字段对获得的正三位数按原字段转化后的顺序依次拼接，再将各个字段最终生成的字符串作为SCD加密模块的输入进行信息认证处理。

SCD模块根据输入会输出的四个凭证值：认证数据、认证模版、混淆凭证以及认证私钥。其中认证数据、认证模版作为密文存储在区块链上，混淆凭证以及认证私钥则保存在用户手中。

#### 解密模块

解密认证流程如下图所示：

![image-20211107085858230](https://i.loli.net/2021/11/07/9Irg51dVMT8ztHj.png)

当资助用户需要查看求助用户的个人信息数据以及资产情况时，调用解密模块对用户信息进行披露，具体披露认证步骤如下：

当资助者申请查看求助者筹款信息时，服务层分别向求助者和区块链提取四个凭证信息：认证数据、认证模版、混淆凭证以及认证私钥，并输入至SCD验证模块。

根据参数选择，对用户的非敏感信息进行选择性披露，对用户的资产情况进行零知识证明，给予用户资产等级证明，同时对用户的患病信息进行选择性披露，保证在可证明的情况下，保护申请者的个人隐私。

### 智能合约逻辑

在系统运行前，提前部署筹款申请者智能合约和资助者智能合约，初始化所需要的数据表。

#### 申请模块

当求助者从UI界面提交筹款申请后，调用资助申请块插入函数，将申请者的ID以及个人信息的密文数据存储在区块链上，后续由申请者本人或是资助者进行查询详情信息时，再将链上存储的密文数据发送至后端进行零知识认证以及选择性披露。

因为区块链公开透明的特性，导致了所有参与方都可以查看链上存储的数据，为实现保护申请者的个人隐私，因此采用零知识证明以及选择性披露这两种隐私计算方法，在保证数据可证明、可验证的情况下提供隐私性保障。

#### 资助模块

当用户在系统界面完成用户注册后，会调用资助模块的初始化函数，为所有注册用户生成一个记录自己捐助信息的空区块。

资助者在前端界面查看用户求助详情后，可进行捐助善款操作。在进行捐款时，通过调用资助统计块的更新合约，可根据被资助者的ID更新其当前已筹集的善款数，并记录资助者的ID以及对应资助金额及资助时间，以便后续追踪善款的来源。

在进行资助操作后，同时会调用资助模块的更新函数，以资助者自己的ID为参数更新区块数据，除去更新资助的基本信息外，同时会计算资助他人所获得的爱心积分值。当爱心积分值高于一定阈值时，会自动提高资助者本人作为申请者时发布求助信息的曝光率，同时也会提高其筹款时单次提现的最大限额。以此来激励人们积极参与筹款活动。

#### 提现模块

当求助者在收到他人捐献的善款后，可以在提现界面进行申请提现操作，与此同时会更新善款提现块的提现信息，包括本次提现金额、当前剩余金额以及提现总金额。

除此之外，系统会对用户单次提现的金额进行额度限制，用户第一次提现金额为总目标金额的20%，第二次提现额度为总目标金额的40%，以此来最大程度确保求助者不会侵吞善款。同时，当求助者完成一次提现后，需要提交本次提现金额的全部花费明细，才能进行下一次提现申请，通过这种方法来确保筹款金额花费的公开透明，让所有捐献者可以实时追踪到善款的去向以及用处。

### 跨链验证方案

本节我们针对本文提出的亿点爱众筹方案，结合区块链未来可能应用场景，基于WeCross模块，实现了下图所示的安全可信任的跨链验证方案。以解决众筹过程中可能存在的监管制度不完善、个人行为无法约束等问题。 

![image-20211107090121932](https://i.loli.net/2021/11/07/Aw5pyfBqGSik1TU.png)

#### 房车资产存储链

房车资产存储链由政府相关机构，如房管局、车管所等责任单位管理维护，如下图所示，该链中存储的信息包括姓名、身份证号、房产证明、车产证明等内容，用于证明发起众筹用户的房产、车产等资产情况。在保证用户资产情况真实可信的同时，实现了对用户资产的隐私保护，避免泄露的风险。

#### 病例信息存储链

病例信息存储链由医院等医疗单位负责维护，如下图所示，该链中存储的信息包括姓名、身份证号、病例信息等内容，用于证明用户曾经的患病信息，患病信息作为用户的敏感信息，急需得到相应的保护。本节我们采用的方案在实现准确验证用户病例信息的同时，实现了对病人病例信息的有效保护。

![image-20211107091421582](https://i.loli.net/2021/11/07/SUu6VqlvyXFnbDa.png)